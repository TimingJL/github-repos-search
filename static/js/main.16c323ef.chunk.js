(this["webpackJsonpgithub-repos-search"]=this["webpackJsonpgithub-repos-search"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),c=a(20),i=a.n(c),l=(a(93),a(66)),s=a(63),u=a(127),d=a(130),p=a(131),g=a(132),m=a(129),f=a(77),b=a.n(f),h=Object(u.a)((function(e){var t=e,a=t.custom.navigationBar;return{root:{height:t.navigationBar.height,background:a.backgroundColor,color:a.color,boxSizing:"border-box",display:"flex",justifyContent:"center"},container:function(e){return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.matches?"0 20px":"0 8px 0 20px",margin:"auto",boxSizing:"border-box",width:1280,maxWidth:1280}},logo:function(e){return{display:"block",height:28,padding:e.matches?"0 16px":0}},button:{color:a.color}}})),O=function(e){var t=e.isDarkMode,a=e.handleChangeTheme,r=Object(m.a)("(min-width: 768px)"),n=h({matches:r}),c=t?d.a:p.a;return o.a.createElement("div",{className:n.root},o.a.createElement("div",{className:n.container},o.a.createElement("img",{src:b.a,className:n.logo,alt:"dcard logo"}),o.a.createElement(g.a,{className:n.button,"aria-label":"theme change",onClick:a},o.a.createElement(c,null))))},j=function(e){var t=e.isDarkMode,a=e.handleChangeTheme;return o.a.createElement(O,{isDarkMode:t,handleChangeTheme:a})},v=a(144),y=a(133),E=a(140),x=a(78),C=a.n(x),S=Object(u.a)((function(e){return Object(v.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:700,borderRadius:4},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}})})),P=function(e){var t=e.handleOnChange,a=S();return o.a.createElement(y.a,{component:"form",className:a.root},o.a.createElement(g.a,{disabled:!0,className:a.iconButton,"aria-label":"search"},o.a.createElement(C.a,null)),o.a.createElement(E.a,{className:a.input,placeholder:"Github repos search",inputProps:{"aria-label":"Github repos search"},onChange:t}))},L=Object(u.a)((function(){return{root:{height:100,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 20px"}}})),w=function(e){var t=e.handleOnChange,a=L();return o.a.createElement("div",{className:a.root},o.a.createElement(P,{handleOnChange:t}))},k=a(146),N=a(7),R=a(145),_=a(81),I=a.n(_),$=a(80),M=a.n($),T=a(79),D=a.n(T),q=Object(N.a)((function(){return{root:{marginRight:2,padding:"0 4px"}}}))(R.a),A=Object(u.a)((function(e){var t=e.custom.repositoryItem;return{root:{display:"flex",color:t.color},content:{padding:"0 12px"},fullName:{fontSize:16,fontWeight:600},description:{fontSize:14,color:t.secondaryColor,lineHeight:"24px"},chips:{marginTop:4}}})),B=function(e){var t=e.item,a=A(),r=t.owner;return o.a.createElement("div",{className:a.root},o.a.createElement(k.a,{alt:r.login,src:r.avatar_url}),o.a.createElement("div",{className:a.content},o.a.createElement("div",{className:a.fullName},t.full_name),o.a.createElement("div",{className:a.description},t.description),o.a.createElement("div",{className:a.chips},o.a.createElement(q,{variant:"outlined",size:"small",label:t.language,icon:o.a.createElement(D.a,null)}),o.a.createElement(q,{variant:"outlined",size:"small",label:t.stargazers_count,icon:o.a.createElement(M.a,null)}),o.a.createElement(q,{variant:"outlined",size:"small",label:t.watchers,icon:o.a.createElement(I.a,null)}))))},z=a(134),H=a(142),G=Object(N.a)((function(){return{root:{padding:"0 20px 20px 20px"}}}))(z.a),W=Object(u.a)((function(){return{root:{borderRadius:4,padding:"8px 0",background:"white"},item:{borderBottom:"1px solid #ddd"}}})),F=function(e){var t=e.repositories,a=W(),r=t.items;return o.a.createElement(G,{maxWidth:"md"},o.a.createElement("div",{className:a.root},r.map((function(e){return o.a.createElement(H.a,{button:!0,key:e.id,className:a.item},o.a.createElement(B,{item:e}))}))))},J="github-repos-search",U="".concat(J,"/FETCH_REPOSITORIES"),X="".concat(J,"/SET_REPOSITORIES"),V="".concat(J,"/FETCH_REPOSITORIES_LOADING"),Y="".concat(J,"/LOAD_REPOSITORIES"),K="".concat(J,"/LOAD_REPOSITORIES_LOADING"),Q="".concat(J,"/UPDATE_REPOSITORIES_LOADING"),Z=function(e){var t=e.error,a=e.data;return{type:X,error:t,payload:{data:a}}},ee=function(e){var t=e.error,a=e.data;return{type:Q,error:t,payload:{data:a}}},te=a(135),ae=Object(u.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},alignItems:"center",justifyContent:"center",padding:"12px 0"}}})),re=function(e){var t=e.color,a=ae();return o.a.createElement("div",{className:a.root},o.a.createElement(te.a,{style:{color:t}}))},ne=Object(u.a)((function(e){var t=e.custom.mainContent;return{root:{background:t.backgroundColor,color:t.color,flex:"1 1 auto",overflowY:"auto"}}})),oe=Object(s.b)((function(e){var t=e.githubReposSearchReducer;return{repositories:t.repositories,fetchMeta:t.fetchMeta,loadMeta:t.loadMeta,page:t.page,perPage:t.perPage,isLastPage:t.isLastPage}}),(function(e){return{handleFetchRepositories:function(t){return e(function(e){var t=e.queryString,a=e.perPage;return{type:U,payload:{queryString:t,perPage:a}}}(t))},handleLoadRepositories:function(t){return e(function(e){var t=e.queryString,a=e.page,r=e.perPage;return{type:Y,payload:{queryString:t,page:a,perPage:r}}}(t))}}}))((function(e){var t=e.repositories,a=e.fetchMeta,r=e.loadMeta,c=e.page,i=e.perPage,s=e.isLastPage,u=e.handleFetchRepositories,d=e.handleLoadRepositories,p=Object(n.useRef)(),g=ne(),m=Object(n.useState)(""),f=Object(l.a)(m,2),b=f[0],h=f[1],O=Object(n.useCallback)((function(e){var t=e.target.value;t.length>0&&(u({queryString:t,perPage:i}),h(t))}),[]),j=Object(n.useCallback)((function(){var e=p.current;e.scrollTop+e.clientHeight>=e.scrollHeight&&!s&&d({queryString:b,page:c,perPage:i})}),[p]);return o.a.createElement("div",{ref:p,className:g.root,onScroll:j},o.a.createElement(w,{handleOnChange:O}),a.isLoading&&o.a.createElement(re,{color:"#fff"}),a.isLoaded&&o.a.createElement(F,{repositories:t}),r.isLoading&&o.a.createElement(re,{color:"#fff"}))})),ce=Object(u.a)((function(){return{root:{display:"flex",flexDirection:"column",height:"100vh"}}})),ie=function(e){var t=e.isDarkMode,a=e.handleChangeTheme,r=ce();return o.a.createElement("div",{className:r.root},o.a.createElement(j,{isDarkMode:t,handleChangeTheme:a}),o.a.createElement(oe,null))},le=a(138),se=a(22),ue=a(83),de={navigationBar:{height:48},color:{}},pe={custom:{navigationBar:{backgroundColor:"#3b3b3b",color:"#fff"},mainContent:{backgroundColor:"#181818",color:"#fff"},repositoryItem:{color:"#24292E",secondaryColor:"#586096"},border:{default:"1px solid #fff3"},boxShadow:{default:"0 1px 6px rgba(255,255,255,0.2)"}}},ge={custom:{navigationBar:{backgroundColor:"#016AA6",color:"#fff"},mainContent:{backgroundColor:"#00324E",color:"#fff"},repositoryItem:{color:"#24292E",secondaryColor:"#586096"},border:{default:"1px solid #01588A"},boxShadow:{default:"0 1px 6px rgba(32,33,36,.28)"}}},me=Object(ue.a)(Object(se.a)(Object(se.a)(Object(se.a)({},de),pe),{},{palette:{type:"dark"}})),fe=Object(ue.a)(Object(se.a)(Object(se.a)(Object(se.a)({},de),ge),{},{palette:{}})),be=a(139),he=a(26),Oe=a(44),je=a(19),ve=a.n(je),ye=a(13),Ee=function(e){var t;return ve()(e,(t={},Object(ye.a)(t,"isLoading",{$set:!0}),Object(ye.a)(t,"isLoaded",{$set:!1}),Object(ye.a)(t,"error",{$set:null}),t))},xe=function(e){var t;return ve()(e,(t={},Object(ye.a)(t,"isLoading",{$set:!1}),Object(ye.a)(t,"isLoaded",{$set:!0}),Object(ye.a)(t,"error",{$set:null}),t))},Ce=function(e){var t;return ve()(e,(t={},Object(ye.a)(t,"isLoading",{$set:!1}),Object(ye.a)(t,"isLoaded",{$set:!1}),Object(ye.a)(t,"error",{$set:!0}),t))},Se=(r={},Object(ye.a)(r,"isLoading",!1),Object(ye.a)(r,"isLoaded",!1),Object(ye.a)(r,"error",null),r),Pe={page:1,perPage:30,isLastPage:!1,repositories:{total_count:0,items:[]},fetchMeta:Se,loadMeta:Se},Le=Object(he.c)({githubReposSearchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.error;switch(a){case V:return ve()(e,{fetchMeta:{$apply:Ee}});case X:return r?ve()(e,{fetchMeta:{$apply:Ce}}):ve()(e,{repositories:{$set:t.payload.data},fetchMeta:{$apply:xe},isLastPage:{$apply:function(){return e.page*e.perPage>=t.payload.data.total_count}},page:{$apply:function(e){return e+1}}});case K:return ve()(e,{loadMeta:{$apply:Ee}});case Q:return r?ve()(e,{loadMeta:{$apply:Ce}}):ve()(e,{repositories:{$apply:function(e){var a=t.payload.data.items,r=e.items;return Object(se.a)(Object(se.a)({},t.payload.data),{},{items:[].concat(Object(Oe.a)(r),Object(Oe.a)(a))})}},isLastPage:{$apply:function(){return e.page*e.perPage>=t.payload.data.total_count}},page:{$apply:function(t){return e.isLastPage?t:t+1}},loadMeta:{$apply:xe}});default:return e}}}),we=a(147),ke=a(84),Ne=a(53),Re=a(143),_e=a(136),Ie=a(82),$e=a(137),Me=a(141),Te=a(64),De=a(61),qe=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return Ne.a.apply(void 0,[e.action].concat(a))},Ae=function(e){var t=e.method,a=e.url,r=e.data,n=function(e,t,a){var r={method:e,headers:new Headers(t)};return"get"===e.toLowerCase()?r:{method:e,headers:new Headers(t),body:JSON.stringify(a)}}(t,new Headers({"Content-Type":"application/json"}),r);return Object(Te.a)(fetch(a,n).then((function(e){return e}))).pipe(Object(Ie.a)((function(e){return Object(Te.a)(new Promise((function(t,a){e.json().then((function(a){t({status:e.status,res:a})}),(function(e){return a(e)}))})))})),Object(De.a)((function(e){return e.res})))},Be=[function(e){return e.pipe(Object(ke.a)(U),Object(Re.a)(1e3),Object(_e.a)((function(e){var t=e.payload,a=t.queryString,r=t.perPage;return Ae({method:"get",url:"https://api.github.com/search/repositories?q=".concat(a,"&page=1&per_page=").concat(r),data:t}).pipe(Object(Ie.a)((function(e){return Object(Ne.a)(Z({data:e}))})),Object($e.a)((function(e){return qe(e,Z({error:e}))})),Object(Me.a)({type:V}))})))},function(e){return e.pipe(Object(ke.a)(Y),Object(_e.a)((function(e){var t=e.payload,a=t.queryString,r=t.page,n=t.perPage;return Ae({method:"get",url:"https://api.github.com/search/repositories?q=".concat(a,"=").concat(r,"&per_page=").concat(n),data:t}).pipe(Object(Ie.a)((function(e){return Object(Ne.a)(ee({data:e}))})),Object($e.a)((function(e){return qe(e,ee({error:e}))})),Object(Me.a)({type:K}))})))}],ze=we.a.apply(void 0,Object(Oe.a)(Be)),He=Object(be.a)({});var Ge=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||he.d,t=[He],a=[he.a.apply(void 0,t)],r=Object(he.e)(Le,e.apply(void 0,a));return He.run(ze),r}(),We=function(){var e=[fe,me],t=Object(n.useState)(0),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(n.useCallback)((function(){c((function(e){return(e+1)%2}))}),[]);return o.a.createElement(s.a,{store:Ge},o.a.createElement(le.a,{theme:e[r]},o.a.createElement(ie,{handleChangeTheme:i,isDarkMode:1===r})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,a){e.exports=a.p+"static/media/dcard_logo.2ef7b509.svg"},88:function(e,t,a){e.exports=a(101)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.16c323ef.chunk.js.map